(this.webpackJsonpadvproto=this.webpackJsonpadvproto||[]).push([[0],{1:function(e,t,a){e.exports={body:"success_body__JFpEv",details:"success_details__1RS2V",contacts:"success_contacts__2LrJA",loading:"success_loading__2vo6o",wrap:"success_wrap__tPYj2",content:"success_content__39pOq","content-inner":"success_content-inner__9wjHC","content-top":"success_content-top__11MNv","content-bottom":"success_content-bottom__3NA4j",title:"success_title__1QqB8",workHours:"success_workHours__1ddm4",col:"success_col__1WHZY","right-col":"success_right-col__1mra3",rating:"success_rating__2LrU0",images:"success_images__2US9z","content-bottom-item":"success_content-bottom-item__3Hhq3",visited:"success_visited__3WlaT",cost:"success_cost__3Vszr",meta:"success_meta__2C6Up",refreshBtn:"success_refreshBtn__3KIAA","contacts-data-item":"success_contacts-data-item__3JT9S",whiteblock:"success_whiteblock__3ZrOg",map:"success_map__1MmM6","compare-card-list":"success_compare-card-list__6WcMC","compare-card":"success_compare-card__1LM0Y","compare-card--top":"success_compare-card--top__2B1RD","compare-card-photo--inner":"success_compare-card-photo--inner__2O_oA","compare-card-photo--image":"success_compare-card-photo--image__3vFGK",avatar:"success_avatar__3V63T","avatar-img-wrap":"success_avatar-img-wrap__2cnsc","avatar-img":"success_avatar-img__31ahM","recommendation-over":"success_recommendation-over__3_jbl",rate:"success_rate__1T77l","detailed-block":"success_detailed-block__3Os3G","rate-title":"success_rate-title__3ECtd","link-white":"success_link-white__oGQ7C",categoryBtn:"success_categoryBtn__yR3_K","link-pink":"success_link-pink__fYPGp",subsribeBtn:"success_subsribeBtn__c1Ek4",catMenu:"success_catMenu__3nMmD",catIcon:"success_catIcon__3KQtu",categoryBtnActive:"success_categoryBtnActive__1wNxD",burger:"success_burger__1GOWD","rate-faces":"success_rate-faces__CJ_Ry","rate-faces-sep":"success_rate-faces-sep__WlglF","rate-face-btn":"success_rate-face-btn__qIINf","contacts-data":"success_contacts-data__xqHYu",directions:"success_directions__2cvZA"}},10:function(e,t,a){e.exports={body:"auth_body__3LHh0",logo:"auth_logo__1rEHP",footer:"auth_footer__1rqe7",text:"auth_text__2OQVr"}},2:function(e,t,a){e.exports={header:"preferences_header__2ajfM","avatar-ctn":"preferences_avatar-ctn__3hp6h",avatar:"preferences_avatar__3fMJv","avatar-img-wrap":"preferences_avatar-img-wrap__3Ka8K",user:"preferences_user__3Fcfv","avatar-img":"preferences_avatar-img__1U9j6",main:"preferences_main__28bts",footer:"preferences_footer__20Z_f",tag:"preferences_tag__1rPE0",moreTags:"preferences_moreTags__2BkvE",more:"preferences_more__3FpUR",plus:"preferences_plus__gSERP",confirm:"preferences_confirm__R9UPZ",confirmBtn:"preferences_confirmBtn__eD_pm",moreInput:"preferences_moreInput__3fK0-",textarea:"preferences_textarea__2mFy0",moreSave:"preferences_moreSave__B8_JR",loadingWrap:"preferences_loadingWrap__IFsCQ",loadingItem:"preferences_loadingItem__1brYu"}},26:function(e,t,a){e.exports={btn:"circle_btn__2cPfV"}},28:function(e,t,a){e.exports=a.p+"static/media/auth_logo.5eb59e4e.png"},31:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEgSURBVHgBlVJBUsJAEOzZRKs4GW8Il/ACc7E0N3yJ+AKKFxBfYHyBPEFeYC4WhR7QH+Si4cgJD1o7zG5CSHKgoA9bO7s9s9M9S6iAF56H39YALl3ag3/+AvELhct0y6GS/H4xBKtIdh6aUIjo6uehTOCPzhgaEfaCY7rORsSzdh9KveIQaH2rhDwsKqQ4XZ+D6alaVUg9aWRlQ4fGSoJ+IcfD+sQX0lm9qiOaOE9gCojnHcYRcMFIRbpfxJ9i46rGYDKuBdu2XWllKptch8aUwiyq8efdR1nzBKLEuORDOYvSf+YR3WSxHeJf605eiHd6dC+fw6w9ELeesQ+a7in8nij7UricGI+ttU0QJ+bOkG3YvOe3bgBX+9C2xaT6jww2HWVrGy9YWQsAAAAASUVORK5CYII="},32:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEWSURBVHgBjVHLTcNAFJyxg8TR3EA+kHQQS0gJJ+ggJRAqwB2gVEDSAamAFnLhJyGxJZgDJDd84kT28ex1nCxKrMxp9+3MvnnziH+Q5+M2AnZhJddrxvNFtvnOmvgYd3Fg7yC89H6gzLCU65WwFMhbfKXFezQhtEOeLaZ0FsJ3lUVoRg5rkwAMbtdkybYSHSKQqQp0wIrM3rwDi1FN1TN7X0fq3Lh5OGgpsRIwkqeTFKFc6OCVbwzUcrbmoE15jb/38F/bU0vWeCWRiQ7XwS8T7TTx3igm0DhHG2yjQc/K1FryAIGp/RdYytTt4SUeq/qm0Yx2Zn+uKRWd+p+pl84Ocsn16sUSEQw1nVNnAR84/BkzyVe7wB8D6W2bzhAwbAAAAABJRU5ErkJggg=="},33:function(e,t,a){e.exports=a.p+"static/media/happy-fave.624ff369.svg"},34:function(e,t,a){e.exports=a.p+"static/media/sad-face.b6224192.svg"},35:function(e,t,a){e.exports=a.p+"static/media/ic_round-remove-red-eye.958b0f80.svg"},36:function(e,t,a){e.exports=a.p+"static/media/mdi_brain.e75e4f8f.svg"},37:function(e,t,a){e.exports=a.p+"static/media/si-glyph_spoon-fork.e4f22442.svg"},38:function(e,t,a){e.exports=a.p+"static/media/foundation_sound.176e8de4.svg"},39:function(e,t,a){e.exports=a.p+"static/media/btn-burger.f7935473.svg"},40:function(e,t,a){e.exports=a.p+"static/media/default-user-avatar.ea071bf1.svg"},41:function(e,t,a){e.exports=a.p+"static/media/confirm.20a2cdf8.svg"},43:function(e,t,a){e.exports=a(86)},84:function(e,t,a){},85:function(e,t,a){e.exports=a.p+"static/media/defaultBg.3a6c9702.jpg"},86:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(13),r=a.n(c),o=a(9),i=a(4),l=a(5),m=a(7),u=a(6),d=a(8),p=a(42),g=a(26),f=a.n(g),_=function(e){var t=e.children,a=e.onClick,n=e.disabled,c=e.fontSize,r=void 0===c?24:c,o=e.size,i=void 0===o?88:o,l=e.style;return s.a.createElement("button",{className:f.a.btn,style:Object(p.a)({fontSize:r,width:i,height:i},l),onClick:a,disabled:n},t)},v=a(27),h=a.n(v).a.create({baseURL:"".concat("/v1","/"),timeout:5e3}),b=a(10),E=a.n(b),A=a(28),k=a.n(A),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).openLoginWindow=function(){var e=window.width/2-250,t=window.height/2-250,n=window.open("about:blank","auth","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(500,", height=").concat(500,", top=").concat(t,", left=").concat(e));n.location.href="https://www.instagram.com/oauth/authorize?client_id=476859443194257&redirect_uri=https://secure.stayandsmile.com/callback&scope=user_profile&response_type=code";var s=setInterval((function(){var e=new URL(window.location);try{console.log("try",window.location),e.searchParams.get("code")&&(clearInterval(s),n.close(),console.log("before"),a.onLogin({code:e.searchParams.get("code")}),console.log("after"))}catch(t){console.log(t)}}),1e3);n.onbeforeunload=function(){clearInterval(s),n.close()}},a.onLogin=function(e){var t=e.code;console.log("onLogin",t),a.setState({pending:!0}),h.post("login",{code:t}).then((function(e){a.setState({pending:!1}),e.data.accessToken&&a.props.setToken(e.data.accessToken)})).catch((function(){a.setState({pending:!1})}))},a.state={pending:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.pending;return s.a.createElement("div",{className:E.a.body},s.a.createElement("div",{className:"content-fix"},s.a.createElement("div",{className:E.a.logo},s.a.createElement("img",{src:k.a,alt:"",className:""})),s.a.createElement("div",{className:E.a.footer},s.a.createElement(_,{onClick:this.openLoginWindow,disabled:e},"GO"),s.a.createElement("p",{className:E.a.text},"Sign up with Facebook to access your Instagram"))))}}]),t}(n.Component),y=a(14),N=a.n(y),O=a(29),S=a(30),C=a.n(S),x=(a(81),a(82),a(83),a(1)),j=a.n(x),T=a(31),B=a.n(T),R=a(32),I=a.n(R),U=a(33),L=a.n(U),F=a(34),H=a.n(F),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getRecommendation=function(){a.setState({pending:!0}),h.get("recommendation").then((function(e){var t=e.data;a.setState({recommendation:t.data,pending:!1})})).catch((function(){a.setState({pending:!1})}))},a.setRate=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.setState({rate:e})},a.state={recommendation:null,pending:!0,rate:!1,detailedView:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getRecommendation()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.categories,t.rate),c=t.detailedView;return this.props.subscribeSlide?s.a.createElement("div",{className:j.a["recommendation-over"]},s.a.createElement("h2",{style:{fontSize:"1.85rem",marginBottom:"20px",fontWeight:300}},"Free recommendations is over."),s.a.createElement("p",{style:{fontSize:"1.12rem",marginBottom:"30px"}},"If you want more recommendations please subscribe"),s.a.createElement("p",{style:{fontSize:"10rem",marginBottom:0,marginTop:0,lineHeight:1}},"5$"),s.a.createElement("p",{style:{fontSize:"1rem",marginBottom:"30px"}},"per month"),s.a.createElement("button",{className:j.a.subsribeBtn},"subsribe")):s.a.createElement("div",{className:j.a.wrap,style:{backgroundImage:"url(".concat(this.props.photos[0],")")}},a&&s.a.createElement("div",{className:j.a.rate},s.a.createElement("div",{className:j.a["rate-title"]},"rate this point"),s.a.createElement("div",null,s.a.createElement("a",{href:"#",className:j.a["link-white"],onClick:function(t){t.preventDefault(),e.setRate(!1)}},"rate later")),s.a.createElement("div",{className:j.a["rate-faces"]},s.a.createElement("button",{className:j.a["rate-face-btn"],onClick:function(){e.setRate(!1)}},s.a.createElement("img",{src:L.a,alt:""})),s.a.createElement("div",{className:j.a["rate-faces-sep"]},"or"),s.a.createElement("button",{className:j.a["rate-face-btn"],onClick:function(){e.setRate(!1)}},s.a.createElement("img",{src:H.a,alt:""}))),s.a.createElement("div",{style:{marginTop:"auto",marginBottom:"20px"}},s.a.createElement("a",{href:"#",className:j.a["link-pink"],onClick:function(t){t.preventDefault(),h.post("recommendation/skip",{recommendationId:e.props.id}).then((function(t){var a=t.data;e.setState({recommendation:a.data,pending:!1})})),e.setRate(!1)}},"skip"))),s.a.createElement("div",{className:j.a.content},s.a.createElement("div",{className:j.a["content-inner"]},c?s.a.createElement(n.Fragment,null,s.a.createElement("div",null),s.a.createElement("div",{className:j.a["detailed-list"]},s.a.createElement("div",{className:j.a["detailed-block"]},s.a.createElement("div",{style:{fontSize:"1.25rem"}},this.props.title),s.a.createElement("div",{style:{color:"#C432AC"}},this.props.address),s.a.createElement("div",{style:{color:"#7935CB",fontWeight:300}},this.props.latitude,", ",this.props.latitude)),s.a.createElement("div",{className:j.a["detailed-block"]},s.a.createElement("div",{style:{fontSize:"1.25rem"}},this.props.workHours.from,"-",this.props.workHours.until),s.a.createElement("div",{style:{color:"#FEBD38"}},"average check: ",this.props.averageBillUSD,"$")),s.a.createElement("div",{className:j.a["detailed-block"]},s.a.createElement("div",{style:{marginBottom:"4px"}},s.a.createElement("a",{href:this.props.website,target:"_blank",style:{color:"#7935CB"},rel:"noopener nofollow"},this.props.website)),s.a.createElement("div",{style:{marginBottom:"4px"}},this.props.phoneNumber),s.a.createElement("div",null,s.a.createElement("a",{href:this.props.googleLink,target:"_blank",style:{color:"#7935CB"},rel:"noopener nofollow"},"see on map"))),s.a.createElement("div",{className:j.a["detailed-block"]},this.props.description))):s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:j.a["content-top"]},s.a.createElement("div",{className:j.a.col},s.a.createElement("div",{className:j.a.title},this.props.title),s.a.createElement("div",{className:j.a.workHours},this.props.workHours.from,"-",this.props.workHours.until)),s.a.createElement("div",{className:j.a["right-col"]},s.a.createElement("div",{className:j.a.rating},s.a.createElement("div",null,"user rating"),s.a.createElement("div",null,s.a.createElement("button",{className:"button-clear-defaults",onClick:this.setRate},s.a.createElement("img",{src:B.a,alt:""}))," +  ",this.props.positiveReviews||"N/A"),s.a.createElement("div",null,s.a.createElement("button",{className:"button-clear-defaults",onClick:this.setRate},s.a.createElement("img",{src:I.a,alt:""}))," - ",this.props.negativeReviews||"N/A")))),s.a.createElement("div",{className:j.a["content-bottom"]},s.a.createElement("div",{className:"".concat(j.a["content-bottom-item"]," ").concat(j.a.cost)},"average check: ",this.props.averageBillUSD,"$",s.a.createElement("div",{className:j.a.visited},s.a.createElement("div",{className:j.a["compare-card-photo--inner"]},this.props.lastFiveUsersSelectedThisLocation.map((function(e,t){return s.a.createElement("div",{className:j.a["compare-card-photo--image"],key:t},s.a.createElement("div",{className:j.a["avatar-img-wrap"]},s.a.createElement("img",{src:e,className:"".concat(j.a["avatar-img"])})))})))," ",s.a.createElement("div",{style:{marginLeft:"15px"}},"+",this.props.numberOfUsersSelectedThisLocation))),s.a.createElement("div",{className:j.a["content-bottom-item"]},s.a.createElement(_,{size:60,fontSize:"0.67rem",onClick:function(){e.setState({detailedView:!0})},style:{fontWeight:300}},"Go ",s.a.createElement("br",null),"here")),s.a.createElement("div",{className:j.a["content-bottom-item"]}))))))}}]),t}(n.Component),K=a(35),M=a.n(K),Y=a(36),P=a.n(Y),Q=a(37),V=a.n(Q),D=a(38),J=a.n(D),z=a(39),G=a.n(z),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getRecommendation=function(){a.setState({pending:!0}),h.get("recommendation").then((function(e){var t=e.data;a.setState({recommendationList:[].concat(Object(o.a)(t),[{subscribeSlide:!0}]),pending:!1})})).catch((function(){a.setState({pending:!1})}))},a.state={recommendationList:[],categoryId:null,categoriesVisible:!1,categories:[{id:null,text:"ALL"},{id:1,icon:P.a},{id:2,icon:J.a},{id:3,icon:V.a},{id:4,icon:M.a}]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getRecommendation()}},{key:"render",value:function(){var e=this,t=this.state,a=t.recommendationList,c=t.categories;return s.a.createElement(n.Fragment,null,s.a.createElement(C.a,{dots:!0,speed:500,slidesToShow:1,slidesToScroll:1,infinite:!1,vertical:!0,verticalSwiping:!0,arrows:!1},a.map((function(e,t){return s.a.createElement(W,Object.assign({},e,{key:"".concat(e.id,"-").concat(t)}))}))),this.state.categoriesVisible&&s.a.createElement("div",{className:j.a.catMenu},c.map((function(t,a){return s.a.createElement("div",{key:a,className:j.a.catIcon,onClick:function(){e.setState({categoryId:t.id,categoriesVisible:!1})}},t.icon?s.a.createElement("img",{src:t.icon,alt:""}):t.text)}))),s.a.createElement("button",{className:"".concat(j.a.categoryBtn,"  ").concat(this.state.categoriesVisible?"".concat(j.a.categoryBtnActive):""," "),onClick:function(){e.setState({categoriesVisible:!e.state.categoriesVisible})}},this.state.categoryId?s.a.createElement(n.Fragment,null,s.a.createElement("img",{src:this.state.categories.find((function(t){return t.id===e.state.categoryId})).icon,alt:""})):s.a.createElement("img",{src:G.a,className:j.a.burger,alt:""})))}}]),t}(n.Component),X=a(2),Z=a.n(X),$=a(40),ee=a.n($),te=a(41),ae=a.n(te);function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var ce=s.a.createElement("path",{d:"M15 -0.000488281C6.69316 -0.000488281 -4.57764e-05 6.69272 -4.57764e-05 14.9995C-4.57764e-05 23.3063 6.69316 29.9995 15 29.9995C23.3067 29.9995 30 23.3063 30 14.9995C30 13.3859 29.7836 11.7769 29.2067 10.276L27.3317 12.1149C27.5616 13.0389 27.6923 13.9629 27.6923 14.9995C27.6923 22.0398 22.0402 27.6918 15 27.6918C7.95969 27.6918 2.30765 22.0398 2.30765 14.9995C2.30765 7.95925 7.95969 2.3072 15 2.3072C18.4615 2.3072 21.5715 3.68641 23.762 5.87692L25.3846 4.25432C22.7298 1.59957 19.0384 -0.000488281 15 -0.000488281ZM28.0168 4.93942L15 17.9562L10.0601 13.0163L8.4014 14.675L14.1706 20.4442L15 21.2375L15.8293 20.4442L29.6754 6.59807L28.0168 4.93942Z",fill:"white"}),re=function(e){var t=e.svgRef,a=e.title,n=se(e,["svgRef","title"]);return s.a.createElement("svg",ne({width:30,height:30,viewBox:"0 0 30 30",fill:"none",ref:t},n),a?s.a.createElement("title",null,a):null,ce)},oe=s.a.forwardRef((function(e,t){return s.a.createElement(re,ne({svgRef:t},e))})),ie=(a.p,function(e){var t=e.title;return s.a.createElement("div",{className:Z.a.tag},t)}),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).setTags=function(){var e=a.state.tagsText.split(",").filter((function(e){return e.trim().length>0}));if(e.length){var t=[].concat(Object(o.a)(a.state.tags),Object(o.a)(e)),n=Object(o.a)(new Set(t));a.setState({addingTags:!1,tagsText:"",tags:n})}},a.onConfirm=function(){var e=a.state.tags;if(e.length){var t=Object(o.a)(new Set(e));Promise.all(t.map(a.postTag)).then((function(e){a.props.setPreferences(t)})).catch((function(e){console.log(e,"err")}))}},a.state={pending:!1,addingTags:!1,tagsLoading:!0,tagsText:"",tags:e.preferences},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({tagsLoading:!1})}),3e3)}},{key:"postTag",value:function(e){return h.post("/user/preferences",{preference:e}).then((function(e){return{success:!0,data:e.data}})).catch((function(e){return{success:!1}}))}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,c=a.tags,r=a.tagsText,o=a.addingTags,i=a.pending,l=a.tagsLoading;return t?s.a.createElement(n.Fragment,null,s.a.createElement("header",{className:Z.a.header},s.a.createElement("div",{className:Z.a["avatar-ctn"]},s.a.createElement("div",{className:Z.a.avatar},s.a.createElement("div",{className:Z.a["avatar-img-wrap"],style:{backgroundImage:"url(".concat(t.profile_photo||ee.a,")")}}))),s.a.createElement("div",{className:Z.a.user},s.a.createElement("h2",{className:"title"},"Welcome ",t.username,"!"),s.a.createElement("p",{className:"text text--thin"},"Select interesting tags to you and tap OK"))),s.a.createElement("div",{className:"".concat(Z.a.main)},s.a.createElement("div",{className:"main-content content "},s.a.createElement("div",{className:"content-body"},!l&&s.a.createElement(n.Fragment,null,c.length?s.a.createElement("div",null,c.map((function(e,t){return s.a.createElement(ie,{title:e,key:"".concat(e,"-").concat(t)})}))):s.a.createElement("div",null,s.a.createElement("p",{className:"text"},"no tags yet")),o&&s.a.createElement("div",{className:Z.a.moreInput},s.a.createElement("textarea",{disabled:i,onChange:function(t){e.setState({tagsText:t.target.value})},className:"textarea ".concat(Z.a.textarea),value:r}),s.a.createElement("button",{disabled:i||!r.trim().length,className:Z.a.moreSave,onClick:this.setTags},s.a.createElement("img",{src:ae.a,alt:""})))))),s.a.createElement("footer",{className:Z.a.footer},l?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:Z.a.loadingWrap},s.a.createElement("div",{className:"".concat(Z.a.loadingItem," loadingItem1")}),s.a.createElement("div",{className:"".concat(Z.a.loadingItem," loadingItem2")}),s.a.createElement("div",{className:"".concat(Z.a.loadingItem," loadingItem3")}))):s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:Z.a.moreTags},s.a.createElement("button",{className:Z.a.more,disabled:i,onClick:function(){e.setState({addingTags:!o})}},s.a.createElement("span",{className:Z.a.plus},"+")," give me more tags!")),s.a.createElement("div",{className:Z.a.confirm},s.a.createElement("button",{className:Z.a.confirmBtn,disabled:i||!c.length,onClick:this.onConfirm},s.a.createElement(oe,null))))))):null}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={pending:!0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(N.a.mark((function e(){var t=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("user").then((function(e){var a=e.data;t.props.setUser(a)}));case 2:return e.next=4,h.get("user/preferences").then((function(e){var a=e.data;a.length&&t.props.setPreferences(a)}));case 4:this.setState({pending:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.pending,t=this.props,a=t.preferences,n=t.user;return e?null:a.length?s.a.createElement("div",null,s.a.createElement(q,null)):s.a.createElement(le,{preferences:a,setPreferences:this.props.setPreferences,user:n})}}]),t}(n.Component),ue=(a(84),a(85),s.a.createContext({token:null,setToken:function(){},user:null,setUser:function(){},preferences:[],setPreferences:function(){}})),de=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).setToken=function(e){e?(localStorage.setItem("Access-Token",e),h.defaults.headers.common["Access-Token"]=e):(localStorage.removeItem("Access-Token"),delete h.defaults.headers.common["Access-Token"]),a.setState({token:e,loading:!1})},a.setUser=function(e){a.setState({user:e})},a.setPreferences=function(e){a.setState({preferences:[].concat(Object(o.a)(a.state.preferences),Object(o.a)(e))})},a.state={user:null,loading:!0,preferences:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setToken(localStorage.getItem("Access-Token"))}},{key:"render",value:function(){var e=this.state,t=e.token,a=e.user,c=e.loading,r=e.preferences;return c?null:s.a.createElement(ue.Provider,{value:{token:t,user:a,preferences:r,setToken:this.setToken,setUser:this.setUser,setPreferences:this.setPreferences}},s.a.createElement(n.Fragment,null,s.a.createElement(pe,{token:t,user:a,preferences:r,setToken:this.setToken,setPreferences:this.setPreferences,setUser:this.setUser})))}}]),t}(n.Component),pe=function(e){var t=e.token,a=e.setToken,c=e.user,r=e.preferences,o=e.setPreferences,i=e.setUser;return t?s.a.createElement(n.Fragment,null,s.a.createElement(me,{user:c,preferences:r,setUser:i,setPreferences:o})):s.a.createElement(n.Fragment,null,s.a.createElement(w,{setToken:a}))},ge=de;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.d4db9f62.chunk.js.map