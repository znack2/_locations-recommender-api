(this.webpackJsonpadvproto=this.webpackJsonpadvproto||[]).push([[0],{1:function(e,t,a){e.exports={body:"success_body__JFpEv",details:"success_details__1RS2V",contacts:"success_contacts__2LrJA",tags:"success_tags__3CX_z",tag:"success_tag__3Icx6","right-arrow":"success_right-arrow__mlK1s",loading:"success_loading__2vo6o",closed:"success_closed__1uYNs",random:"success_random__U0s8-",randomicon:"success_randomicon__3bwaA",randomtext:"success_randomtext__h1-Dy",wrap:"success_wrap__tPYj2",content:"success_content__39pOq","content-inner":"success_content-inner__9wjHC","detailed-rating":"success_detailed-rating__2hfY5","detailed-content":"success_detailed-content__2wF2-","content-top":"success_content-top__11MNv",colored:"success_colored__XtwHz",title:"success_title__1QqB8",workHours:"success_workHours__1ddm4",col:"success_col__1WHZY","right-col":"success_right-col__1mra3",rating:"success_rating__2LrU0",images:"success_images__2US9z","content-bottom":"success_content-bottom__3NA4j","content-bottom-item":"success_content-bottom-item__3Hhq3",visited:"success_visited__3WlaT",cost:"success_cost__3Vszr",meta:"success_meta__2C6Up",refreshBtn:"success_refreshBtn__3KIAA","contacts-data-item":"success_contacts-data-item__3JT9S",whiteblock:"success_whiteblock__3ZrOg",map:"success_map__1MmM6","compare-card-list":"success_compare-card-list__6WcMC","compare-card":"success_compare-card__1LM0Y","compare-card--top":"success_compare-card--top__2B1RD","compare-card-photo--inner":"success_compare-card-photo--inner__2O_oA","compare-card-photo--image":"success_compare-card-photo--image__3vFGK",avatar:"success_avatar__3V63T","avatar-img-wrap":"success_avatar-img-wrap__2cnsc","avatar-img":"success_avatar-img__31ahM",mark:"success_mark__lCs7c",markPositive:"success_markPositive__1nWDg",markNegative:"success_markNegative__40qaK","recommendation-over":"success_recommendation-over__3_jbl",rate:"success_rate__1T77l","detailed-block":"success_detailed-block__3Os3G","detailed-block-main":"success_detailed-block-main__1Blm4",cross:"success_cross__3UePT",share:"success_share__3IxI6","rate-title":"success_rate-title__3ECtd","link-white":"success_link-white__oGQ7C",categoryBtn:"success_categoryBtn__yR3_K",profileBtn:"success_profileBtn__1y3yA","link-pink":"success_link-pink__fYPGp",subsribeBtn:"success_subsribeBtn__c1Ek4",catMenu:"success_catMenu__3nMmD",catIcon:"success_catIcon__3KQtu",categoryBtnActive:"success_categoryBtnActive__1wNxD",burger:"success_burger__1GOWD","rate-faces":"success_rate-faces__CJ_Ry","rate-faces-sep":"success_rate-faces-sep__WlglF","rate-face-btn":"success_rate-face-btn__qIINf","contacts-data":"success_contacts-data__xqHYu",directions:"success_directions__2cvZA","detailed-list":"success_detailed-list__3jMhX","detailed-type":"success_detailed-type__3Cj0I",nav:"success_nav__bBvNB","nav-prev":"success_nav-prev__2ldPI","nav-next":"success_nav-next__6Pb9S"}},174:function(e,t,a){e.exports={btn:"circle_btn__2cPfV"}},176:function(e,t,a){e.exports=a.p+"static/media/auth_logo.5eb59e4e.png"},179:function(e,t,a){e.exports=a.p+"static/media/icon.4f955e6c.svg"},183:function(e,t,a){e.exports=a.p+"static/media/share.9dc3f608.svg"},184:function(e,t,a){e.exports=a.p+"static/media/01.dc19df25.gif"},185:function(e,t,a){e.exports=a.p+"static/media/ic_round-remove-red-eye.958b0f80.svg"},186:function(e,t,a){e.exports=a.p+"static/media/mdi_brain.e75e4f8f.svg"},187:function(e,t,a){e.exports=a.p+"static/media/si-glyph_spoon-fork.e4f22442.svg"},188:function(e,t,a){e.exports=a.p+"static/media/foundation_sound.176e8de4.svg"},189:function(e,t,a){e.exports=a.p+"static/media/btn-burger.f7935473.svg"},190:function(e,t,a){e.exports=a.p+"static/media/profile.0024d4ae.svg"},191:function(e,t,a){e.exports=a.p+"static/media/arr-pointer.a8a5992d.svg"},192:function(e,t,a){e.exports=a.p+"static/media/circle.7e6dbccc.svg"},193:function(e,t,a){e.exports=a.p+"static/media/swipe2.87facd18.svg"},194:function(e,t,a){e.exports=a.p+"static/media/avatar.4fa78f0a.png"},195:function(e,t,a){e.exports=a.p+"static/media/confirm.20a2cdf8.svg"},196:function(e,t,a){e.exports=a.p+"static/media/google-play-badge.cfea2442.svg"},197:function(e,t,a){e.exports=a.p+"static/media/app-store-badge.d0558d91.svg"},198:function(e,t,a){e.exports=a.p+"static/media/screen.baeae1df.png"},2:function(e,t,a){e.exports={header:"preferences_header__2ajfM","avatar-ctn":"preferences_avatar-ctn__3hp6h",logout:"preferences_logout__3Effx",remove:"preferences_remove__2JrbF",avatar:"preferences_avatar__3fMJv","avatar-img-wrap":"preferences_avatar-img-wrap__3Ka8K",user:"preferences_user__3Fcfv","avatar-img":"preferences_avatar-img__1U9j6",main:"preferences_main__28bts",footer:"preferences_footer__20Z_f",tag:"preferences_tag__1rPE0",tagActive:"preferences_tagActive__3-DVe",moreTags:"preferences_moreTags__2BkvE",more:"preferences_more__3FpUR",plus:"preferences_plus__gSERP",confirm:"preferences_confirm__R9UPZ",confirmBtn:"preferences_confirmBtn__eD_pm",confirm_opacity:"preferences_confirm_opacity__G5tEJ",moreInput:"preferences_moreInput__3fK0-",textarea:"preferences_textarea__2mFy0",borderFade:"preferences_borderFade__1UhTm",moreSave:"preferences_moreSave__B8_JR",loadingWrap:"preferences_loadingWrap__IFsCQ",loadingItem:"preferences_loadingItem__1brYu"}},200:function(e,t,a){e.exports=a(441)},31:function(e,t,a){e.exports={intro:"intro_intro__w-df0",actions:"intro_actions__2YjvT",right:"intro_right__3mz3q",rightPointer:"intro_rightPointer__2797x",center:"intro_center__3-HkN",circle:"intro_circle__430Gn",buttonFade:"intro_buttonFade__3tVZ4"}},32:function(e,t,a){e.exports={slideshow:"blank_slideshow__298LX",imageAnimation:"blank_imageAnimation__1J6eU",titleAnimation:"blank_titleAnimation__Tii0F","no-cssanimations":"blank_no-cssanimations__2ES8M",badges:"blank_badges__3kSUI",panel:"blank_panel__ds7LX","modal-dialog":"blank_modal-dialog__HiRdC","modal-content":"blank_modal-content__1mKpP","form-group":"blank_form-group__30cde","modal-title":"blank_modal-title__HZ-_q",button:"blank_button__21yD3","form-check-label":"blank_form-check-label__3t-we",row:"blank_row__2mYDC",required:"blank_required__3PlC_","control-label":"blank_control-label__3ow24",mockup:"blank_mockup__Eygmq",device:"blank_device__3wCvy",screen:"blank_screen__2X_e4"}},440:function(e,t,a){},441:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(43),s=a.n(c),o=a(17),i=a(12),l=a(13),m=a(15),d=a(14),u=a(16),p=a(45),g=a(174),f=a.n(g),v=function(e){var t=e.children,a=e.onClick,n=e.disabled,c=e.fontSize,s=void 0===c?24:c,o=e.size,i=void 0===o?88:o,l=e.style;return r.a.createElement("button",{className:f.a.btn,style:Object(p.a)({fontSize:s,width:i,height:i},l),onClick:a,disabled:n},t)},h=a(175),_=a.n(h).a.create({baseURL:"".concat("https://secure.stayandsmile.com/v1","/"),timeout:2e4}),E=a(53),b=a.n(E),k=a(176),y=a.n(k),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).openLoginWindow=function(){var e=window.width/2-250,t=window.height/2-250,n=window.open("about:blank","auth","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(500,", height=").concat(500,", top=").concat(t,", left=").concat(e)),r=setInterval((function(){try{var e=new URL(n.location);e.searchParams.get("code")&&(clearInterval(r),n.close(),a.onLogin(e.searchParams.get("code")))}catch(t){console.log(t)}}),1e3);n.location.href="https://www.instagram.com/oauth/authorize?client_id=476859443194257&redirect_uri=https://secure.stayandsmile.com/callback&scope=user_profile&response_type=code"},a.openLoginWindow2=function(){var e=setInterval((function(){try{clearInterval(e),a.onLogin("test")}catch(t){console.log(t)}}),1e3)},a.onLogin=function(e){a.setState({pending:!0}),_.post("login",{code:e}).then((function(e){a.setState({pending:!1}),e.data.accessToken&&a.props.setToken(e.data.accessToken)})).catch((function(){a.setState({pending:!1})}))},a.state={pending:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.onLogin()}},{key:"render",value:function(){var e=this.state.pending;return r.a.createElement("div",{className:b.a.body},r.a.createElement("div",{className:"content-fix"},r.a.createElement("div",{className:b.a.logo},r.a.createElement("img",{src:y.a,alt:"",className:""})),r.a.createElement("div",{className:b.a.footer},r.a.createElement("button",{style:{margin:"10px",cursor:"pointer"},onClick:this.openLoginWindow2},"test"),r.a.createElement(v,{onClick:this.openLoginWindow,disabled:e},"GO"),r.a.createElement("p",{className:b.a.text},"Sign up with Facebook to access your Instagram"))))}}]),t}(n.Component),N=a(105),S=a.n(N),A=a(177),x=a(75),O=a.n(x),C=a(76),j=a.n(C),R=(a(118),a(119),a(178)),I=a.n(R),T=a(1),B=a.n(T),P=a(77),F=a.n(P),U=a(179),L=a.n(U),z=a(78),M=a.n(z),W=a(79),D=a.n(W),V=a(80),H=a.n(V),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setRate=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.setState({rate:e})},a.state={recommendation:null,pending:!0,rate:!1,detailedView:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.rate;t.pending;if(this.props.subscribeSlide)return r.a.createElement("div",{className:B.a["recommendation-over"]},r.a.createElement("h2",{style:{fontSize:"1.85rem",marginBottom:"20px",fontWeight:300}},"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c. \u043a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u043e\u0441\u044c"),r.a.createElement("p",{style:{fontSize:"1.12rem",marginBottom:"30px"}},"\u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f."),r.a.createElement("p",{style:{fontSize:"4rem",marginBottom:0,marginTop:0,lineHeight:1}},"25\u0440"),r.a.createElement("p",{style:{fontSize:"1rem",marginBottom:"30px"}},"\u0432 \u043c\u0435\u0441\u044f\u0446"),r.a.createElement("button",{className:B.a.subsribeBtn},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"));var c=!!this.props.item.mainphoto&&!this.props.item.mainphoto.includes("undefined");return console.log("this.props.loading",this.props.loading),r.a.createElement("div",{className:B.a.wrap,style:{backgroundImage:c?"url(".concat(this.props.item.mainphoto,")"):" url(https://image.freepik.com/free-photo/abstract-blur-hotel-interior_1203-8529.jpg)"}},a&&r.a.createElement("div",{className:B.a.rate},r.a.createElement("div",{className:B.a["rate-title"]},"rate this point"),r.a.createElement("div",null,r.a.createElement("a",{href:"#",className:B.a["link-white"],onClick:function(t){t.preventDefault(),e.setRate(!1)}},"rate later")),r.a.createElement("div",{className:B.a["rate-faces"]},r.a.createElement("button",{className:B.a["rate-face-btn"],onClick:function(){e.setRate(!1)}},r.a.createElement("img",{src:D.a,alt:""})),r.a.createElement("div",{className:B.a["rate-faces-sep"]},"or"),r.a.createElement("button",{className:B.a["rate-face-btn"],onClick:function(){e.setRate(!1)}},r.a.createElement("img",{src:H.a,alt:""}))),r.a.createElement("div",{style:{marginTop:"auto",marginBottom:"20px"}},r.a.createElement("a",{href:"#",className:B.a["link-pink"],onClick:function(t){t.preventDefault(),_.post("recommendation/skip",{recommendationId:e.props.id}).then((function(t){var a=t.data;e.setState({recommendation:a.data,pending:!1})})),e.setRate(!1)}},"skip"))),r.a.createElement("div",{className:B.a.content},5===this.props.categoryId&&r.a.createElement("div",null,r.a.createElement("div",{className:B.a.random},r.a.createElement("img",{className:B.a.randomicon,src:L.a,alt:""}),r.a.createElement("h2",{className:B.a.randomtext},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430, \u043f\u043e\u043a\u0430 \u043c\u044b \u0438\u0449\u0435\u043c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u043f\u043e\u0434 \u0442\u0432\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441.")),r.a.createElement("hr",{className:B.a.colored})),r.a.createElement("div",{className:B.a["content-inner"]},r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:B.a["content-top"]},r.a.createElement("div",{className:B.a.col,style:{top:5===this.props.categoryId?"110px":"10px"}},r.a.createElement("div",{className:B.a.title},this.props.item.name),r.a.createElement("div",{className:B.a.workHours},this.props.item.workhours)),r.a.createElement("div",{className:B.a["right-col"],style:{top:5===this.props.categoryId?"110px":"10px"}},r.a.createElement("div",{className:B.a.rating},r.a.createElement("div",null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),r.a.createElement("div",null,r.a.createElement("button",{className:"button-clear-defaults"},r.a.createElement("img",{src:F.a,alt:""}))," +  ",this.props.positiveReviews||"N/A"),r.a.createElement("div",null,r.a.createElement("button",{className:"button-clear-defaults"},r.a.createElement("img",{src:M.a,alt:""}))," - ",this.props.negativeReviews||"N/A")))),r.a.createElement("div",{className:B.a["content-bottom"]},r.a.createElement("div",{className:"".concat(B.a["content-bottom-item"]," ").concat(B.a.cost)},r.a.createElement("ul",{className:B.a.tags},this.props.tags.map((function(e,t){return r.a.createElement("li",{className:B.a.tag,key:t},e)}))),this.props.averageBillUSD>0?"\u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a: ".concat(this.props.averageBillUSD,"\u20bd"):"FREE",r.a.createElement("div",{className:B.a.visited},r.a.createElement("div",{className:B.a["compare-card-photo--inner"]},this.props.lastFiveUsersSelectedThisLocation.map((function(e,t){return r.a.createElement("div",{className:B.a["compare-card-photo--image"],key:t},r.a.createElement("div",{className:B.a["avatar-img-wrap"]},r.a.createElement("img",{src:e,className:"".concat(B.a["avatar-img"])})))})))," ",r.a.createElement("div",{style:{marginLeft:"15px"}},"+",this.props.numberOfUsersSelectedThisLocation))),r.a.createElement("div",{className:B.a["content-bottom-item"]},r.a.createElement(v,{size:60,fontSize:"0.67rem",onClick:function(){e.props.setCurrentRecomendation(e.props)},style:{fontWeight:300}},"\u0412\u043f\u0435\u0440\u0435\u0434")))))))}}]),t}(n.Component),Y=a(442),J=a(444),Q=a(446),q=a(448),G=a(450),X=a(443),Z=a(445),$=a(447),ee=a(449),te=a(451),ae=a(180),ne=a.n(ae),re=a(54),ce=a(183),se=a.n(ce),oe=a(184),ie=a.n(oe);function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var de=r.a.createElement("path",{d:"m189.451 275.565 223.897-223.897v-51.668l-275.565 275.565 275.565 275.565v-51.668z"}),ue=function(e){var t=e.svgRef,a=e.title,n=me(e,["svgRef","title"]);return r.a.createElement("svg",le({id:"Capa_1",enableBackground:"new 0 0 551.13 551.13",height:512,viewBox:"0 0 551.13 551.13",width:512,ref:t},n),a?r.a.createElement("title",null,a):null,de)};r.a.forwardRef((function(e,t){return r.a.createElement(ue,le({svgRef:t},e))})),a.p;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var fe=r.a.createElement("path",{d:"m361.679 275.565-223.896 223.897v51.668l275.565-275.565-275.565-275.565v51.668z"}),ve=function(e){var t=e.svgRef,a=e.title,n=ge(e,["svgRef","title"]);return r.a.createElement("svg",pe({id:"Capa_1",enableBackground:"new 0 0 551.13 551.13",height:512,viewBox:"0 0 551.13 551.13",width:512,ref:t},n),a?r.a.createElement("title",null,a):null,fe)},he=(r.a.forwardRef((function(e,t){return r.a.createElement(ve,pe({svgRef:t},e))})),a.p,Object(re.withScriptjs)(Object(re.withGoogleMap)((function(e){return r.a.createElement(re.GoogleMap,{defaultZoom:16,defaultCenter:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}},r.a.createElement(re.Marker,{position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}}))})))),_e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setRate=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.setState({rate:e})},a.postRate=function(e){_.post("rate ",{locationId:"",value:e}),a.setState({rate:!1,rateMark:e})},a.SharePanel=function(){var e="https://secure.stayandsmile.com";return r.a.createElement("div",{style:{width:"100%",padding:"35px",background:"white",position:"absolute",zIndex:"9999",bottom:"0px",height:"30%"}},r.a.createElement("h4",{style:{marginBottom:"50px"}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u043c \u043c\u0435\u0441\u0442\u043e\u043c \u0441 \u0434\u0440\u0443\u0433\u043e\u043c!"),r.a.createElement(Y.a,{url:e},r.a.createElement(X.a,{size:32,round:!0})),r.a.createElement(J.a,{url:e},r.a.createElement(Z.a,{size:32,round:!0})),r.a.createElement(Q.a,{url:e},r.a.createElement($.a,{size:32,round:!0})),r.a.createElement(q.a,{url:e},r.a.createElement(ee.a,{size:32,round:!0})),r.a.createElement(G.a,{url:e},r.a.createElement(te.a,{size:32,round:!0})),r.a.createElement("button",{className:B.a.closed,onClick:function(){a.setState({showSharing:!1})}},"\xd7"))},a.BookingPanel=function(){return r.a.createElement("div",{style:{width:"100%",padding:"35px",background:"white",position:"absolute",zIndex:"9999",bottom:"0px",height:"70%"}},r.a.createElement("h4",{style:{marginBottom:"120px"}},"Book it now"),r.a.createElement("button",{className:B.a.closed,onClick:function(){a.setState({showBooking:!1})}},"\xd7"))},console.log(e,"props"),a.state={rate:!1,step:1,showSharing:!1,showBooking:!1,stepLimit:5,photos:a.props.item.posts,rateMark:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.rate,c=(t.step,t.showSharing),s=t.rateMark,o=t.showBooking;return console.log(this.props),r.a.createElement(j.a,{onSwipeRight:function(){e.props.setCurrentRecomendation()},tolerance:100},r.a.createElement("div",{className:B.a.content},1===s&&r.a.createElement("div",{className:"".concat(B.a.mark," ").concat(B.a.markPositive)},"like"),0===s&&r.a.createElement("div",{className:"".concat(B.a.mark," ").concat(B.a.markNegative)},"nope"),r.a.createElement("div",{className:" ".concat(B.a["content-inner"]," ").concat(B.a["detailed-content"]),style:{padding:0}},a&&r.a.createElement("div",{className:B.a.rate},r.a.createElement("div",{className:B.a["rate-title"]},"rate this point"),r.a.createElement("div",null,r.a.createElement("a",{href:"#",className:B.a["link-white"],onClick:function(t){t.preventDefault(),e.setRate(!1)}},"rate later")),r.a.createElement("div",{className:B.a["rate-faces"]},r.a.createElement("button",{className:B.a["rate-face-btn"],onClick:function(){e.setRate(!1)}},r.a.createElement("img",{src:D.a,alt:""})),r.a.createElement("div",{className:B.a["rate-faces-sep"]},"or"),r.a.createElement("button",{className:B.a["rate-face-btn"],onClick:function(){e.setRate(!1)}},r.a.createElement("img",{src:H.a,alt:""}))),r.a.createElement("div",{style:{marginTop:"auto",marginBottom:"20px"}})),c&&this.SharePanel(),o&&this.BookingPanel(),r.a.createElement("div",{className:B.a["detailed-type"]},"Type: ",this.props.item.type),r.a.createElement("div",{className:B.a["detailed-rating"]},r.a.createElement("div",{className:B.a.rating},r.a.createElement("div",null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),r.a.createElement("div",null,r.a.createElement("button",{className:"button-clear-defaults",disabled:s||0===s,onClick:function(){return e.postRate(1)}},r.a.createElement("img",{src:F.a,alt:""}))," +  ",this.props.positiveReviews||"N/A"),r.a.createElement("div",null,r.a.createElement("button",{className:"button-clear-defaults",disabled:s||0===s,onClick:function(){return e.postRate(0)}},r.a.createElement("img",{src:M.a,alt:""}))," - ",this.props.negativeReviews||"N/A"))),r.a.createElement(O.a,{dots:!0,speed:500,slidesToShow:1,slidesToScroll:1,centerMode:!0,centerPadding:"0%",infinite:!1,vertical:!0,verticalSwiping:!0,arrows:!1,responsive:[{breakpoint:99999,settings:{slidesToShow:3,centerMode:!1,slidesToScroll:1}},{breakpoint:800,settings:{slidesToShow:1,slidesToScroll:1}}]},[{type:"info"},{type:"map"},{type:"description"},Object(p.a)({},this.props.item.posts)].map((function(t,a){return console.log(t,"slide"),null===t?null:r.a.createElement(n.Fragment,{key:"".concat(t.photo,"-").concat(a)},r.a.createElement("div",{className:B.a.wrap,style:{background:ne()(a.toString()),backgroundImage:"url(".concat(t.photo,"), url(").concat(ie.a,")")}},r.a.createElement("div",{style:{textAlign:"right",position:"absolute",right:"0px",bottom:"0px",display:"none"}},r.a.createElement("div",{className:B.a.cross,onClick:function(){console.log("onClick"),e.setState({showBooking:!0})}},"$"),r.a.createElement("div",{className:B.a.cross,onClick:function(){console.log("onClick"),e.setState({showSharing:!0})}},r.a.createElement("img",{className:B.a.share,src:se.a,alt:""}))),"info"===t.type&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{position:"absolute",bottom:"0",width:"98%"}},r.a.createElement("div",{style:{fontSize:"2.25rem",padding:"0 10px"}},e.props.item.name),r.a.createElement("div",{className:B.a["detailed-block-main"]},r.a.createElement("div",{style:{fontSize:"1.25rem"}},e.props.item.address.replace("\u0420\u043e\u0441\u0441\u0438\u044f, \u041c\u043e\u0441\u043a\u0432\u0430,","")),r.a.createElement("div",{style:{fontSize:"1.25rem"}},e.props.item.workhours),r.a.createElement("div",{style:{color:"#FEBD38"}},e.props.averageBillUSD>0?"\u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a : ".concat(e.props.averageBillUSD,"\u20bd"):"FREE")),e.props.item.website&&r.a.createElement("div",{className:B.a["detailed-block-main"]},r.a.createElement("div",{style:{marginBottom:"4px"}},r.a.createElement("a",{href:e.props.website,target:"_blank",style:{color:"#7935CB"},rel:"noopener nofollow"},e.props.item.website)),r.a.createElement("div",{style:{marginBottom:"4px"}},e.props.item.phone)),e.props.description&&r.a.createElement("div",{className:B.a["detailed-block-main"]},e.props.description))),"map"===t.type&&r.a.createElement("div",{style:{position:"absolute",bottom:"0",width:"98%"}},r.a.createElement("div",{style:{fontSize:"1.25rem",padding:"0 10px"}},"\u041a\u0430\u0440\u0442\u0430 :"),r.a.createElement("div",{className:B.a["detailed-block-main"]},r.a.createElement(he,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyB8weNak3605tIrBrKaNi3Tr1A9AGzVxsE",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),lat:e.props.latitude,lng:e.props.longitude}))),"description"===t.type&&(t.text||e.props.description)&&r.a.createElement("div",{style:{position:"absolute",bottom:"0",width:"98%"}},r.a.createElement("div",{className:B.a["detailed-block-main"]},r.a.createElement("div",{style:{color:"#C432AC"}},t.text||e.props.description))),void 0===t.type&&r.a.createElement("div",{style:{position:"absolute",bottom:"0",width:"98%"}},r.a.createElement("div",{className:B.a["detailed-block-main"]},r.a.createElement("div",{style:{color:"#C432AC"}},"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043e\u0442\u0437\u044b\u0432 \u0447\u0442\u043e \u0432\u0430\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c \u0432 \u044d\u0442\u043e\u043c \u043c\u0435\u0441\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u0441\u0435\u0433\u043e!")))))}))))))}}]),t}(n.Component),Ee=a(185),be=a.n(Ee),ke=a(186),ye=a.n(ke),we=a(187),Ne=a.n(we),Se=a(188),Ae=a.n(Se),xe=a(189),Oe=a.n(xe),Ce=a(190),je=a.n(Ce),Re=a(31),Ie=a.n(Re),Te=a(191),Be=a.n(Te),Pe=a(192),Fe=a.n(Pe),Ue=a(193),Le=a.n(Ue),ze=function(e){var t=e.type,a=e.color;return console.log("Loading Base"),r.a.createElement(I.a,{type:t,color:a,height:"20%",width:"20%",style:{height:"20%",width:"20%",color:"white",margin:"80% auto"}})},Me=function(e){var t=e.setViewed;return r.a.createElement("div",{className:Ie.a.intro,onClick:t},r.a.createElement("div",{className:Ie.a.actions},r.a.createElement("div",{className:Ie.a.text},"1. \u0421\u0432\u0430\u0439\u043f \u0432\u0432\u0435\u0440\u0445/\u0432\u043d\u0438\u0437 \u0434\u043b\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0439"),r.a.createElement("img",{src:Le.a,alt:"",style:{marginLeft:"35px",marginTop:"20px"}})),r.a.createElement("div",{className:Ie.a.center},"3. \u0417\u0430\u0439\u0434\u0438",r.a.createElement("div",{className:Ie.a.circle},r.a.createElement("img",{src:Fe.a,alt:""}))),r.a.createElement("div",{className:Ie.a.right},"2. \u0412\u044b\u0431\u0435\u0440\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",r.a.createElement("div",{className:Ie.a.rightPointer},r.a.createElement("img",{src:Be.a,alt:""}))))},We=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getRecommendation=function(){var e=a.state,t=e.categoryId,n=e.coords,r={};t&&(r={recommendationId:t}),n&&(r=Object(p.a)({},r,{currentLocation:{lat:n.latitude,lan:n.longitude}})),a.setState({pending:!0}),console.log("getRecommendation"),_.get("recommendation",{params:r}).then((function(e){var t=e.data;a.setState({recommendationList:[].concat(Object(o.a)(t),[{subscribeSlide:!0}]),pending:!1,categoryId:t[0].categoryId})})).catch((function(){a.setState({pending:!1})}))},a.state={recommendationList:[],categoryId:0,currentRecommendation:null,categoriesVisible:!1,introViewed:!!localStorage.getItem("introViewed"),categories:[{id:5,text:"ALL"},{id:1,icon:ye.a},{id:2,icon:Ae.a},{id:3,icon:Ne.a},{id:4,icon:be.a}],coords:null,currentSlide:0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("navigation")||this.getRecommendation(),navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;localStorage.setItem("navigation","granted"),e.setState({coords:a},(function(){e.getRecommendation()}))}),(function(e){console.log(e)}),{enableHighAccuracy:!0,timeout:5e4,maximumAge:0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.recommendationList,c=t.categories,s=t.introViewed,o=t.currentRecommendation,i=t.currentSlide,l=(t.pending,{dots:!0,speed:500,slidesToShow:1,slidesToScroll:1,infinite:!1,vertical:!0,verticalSwiping:!0,arrows:!1,currentSlide:0,initialSlide:i,afterChange:function(t){e.setState({currentSlide:t})}});return this.state.pending?r.a.createElement(ze,{type:"bubbles",color:"white"}):r.a.createElement(n.Fragment,null,!s&&r.a.createElement(Me,{setViewed:function(){e.setState({introViewed:!0}),localStorage.setItem("introViewed","viewed")}}),o?r.a.createElement(_e,Object.assign({},o,{setCurrentRecomendation:function(){e.setState({currentRecommendation:null})}})):r.a.createElement(j.a,{onSwipeRight:function(){e.props.onSetScreen()},tolerance:100},r.a.createElement("div",null,r.a.createElement(O.a,Object.assign({},l,{currentSlide:i}),a.map((function(t,a){return r.a.createElement(K,Object.assign({},t,{currentSlide:e.state.currentSlide,setCurrentSlide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.setState({currentSlide:t})},setCurrentRecomendation:function(t){e.setState({currentRecommendation:t})},key:"".concat(t.id,"-").concat(a)}))}))))),this.state.categoriesVisible&&r.a.createElement("div",{className:B.a.catMenu},c.map((function(t,a){return console.log("map",a),r.a.createElement("div",{key:a,className:B.a.catIcon,onClick:function(){e.setState({categoryId:t.id,categoriesVisible:!1},(function(){e.getRecommendation()}))}},t.icon?r.a.createElement("img",{src:t.icon,alt:""}):t.text)}))),!o&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"".concat(B.a.categoryBtn,"  ").concat(this.state.categoriesVisible?"".concat(B.a.categoryBtnActive):""," "),onClick:function(){e.setState({categoriesVisible:!e.state.categoriesVisible})}},this.state.categoryId&&5!==this.state.categoryId?r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:this.state.categories.find((function(t){return t.id===e.state.categoryId})).icon,alt:""})):r.a.createElement("img",{src:Oe.a,className:B.a.burger,alt:""})),r.a.createElement("button",{className:"".concat(B.a.profileBtn," "),onClick:function(){e.props.onSetScreen()}},r.a.createElement("img",{src:je.a,alt:""}))))}}]),t}(n.Component),De=a(2),Ve=a.n(De),He=a(194),Ke=a.n(He),Ye=a(195),Je=a.n(Ye);function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ge=r.a.createElement("path",{d:"M15 -0.000488281C6.69316 -0.000488281 -4.57764e-05 6.69272 -4.57764e-05 14.9995C-4.57764e-05 23.3063 6.69316 29.9995 15 29.9995C23.3067 29.9995 30 23.3063 30 14.9995C30 13.3859 29.7836 11.7769 29.2067 10.276L27.3317 12.1149C27.5616 13.0389 27.6923 13.9629 27.6923 14.9995C27.6923 22.0398 22.0402 27.6918 15 27.6918C7.95969 27.6918 2.30765 22.0398 2.30765 14.9995C2.30765 7.95925 7.95969 2.3072 15 2.3072C18.4615 2.3072 21.5715 3.68641 23.762 5.87692L25.3846 4.25432C22.7298 1.59957 19.0384 -0.000488281 15 -0.000488281ZM28.0168 4.93942L15 17.9562L10.0601 13.0163L8.4014 14.675L14.1706 20.4442L15 21.2375L15.8293 20.4442L29.6754 6.59807L28.0168 4.93942Z",fill:"white"}),Xe=function(e){var t=e.svgRef,a=e.title,n=qe(e,["svgRef","title"]);return r.a.createElement("svg",Qe({width:30,height:30,viewBox:"0 0 30 30",fill:"none",ref:t},n),a?r.a.createElement("title",null,a):null,Ge)},Ze=r.a.forwardRef((function(e,t){return r.a.createElement(Xe,Qe({svgRef:t},e))}));a.p;function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var tt=r.a.createElement("path",{d:"m232.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"}),at=r.a.createElement("path",{d:"m114.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"}),nt=r.a.createElement("path",{d:"m28.398438 127.121094v246.378906c0 14.5625 5.339843 28.238281 14.667968 38.050781 9.285156 9.839844 22.207032 15.425781 35.730469 15.449219h189.203125c13.527344-.023438 26.449219-5.609375 35.730469-15.449219 9.328125-9.8125 14.667969-23.488281 14.667969-38.050781v-246.378906c18.542968-4.921875 30.558593-22.835938 28.078124-41.863282-2.484374-19.023437-18.691406-33.253906-37.878906-33.257812h-51.199218v-12.5c.058593-10.511719-4.097657-20.605469-11.539063-28.03125-7.441406-7.421875-17.550781-11.5546875-28.0625-11.46875h-88.796875c-10.511719-.0859375-20.621094 4.046875-28.0625 11.46875-7.441406 7.425781-11.597656 17.519531-11.539062 28.03125v12.5h-51.199219c-19.1875.003906-35.394531 14.234375-37.878907 33.257812-2.480468 19.027344 9.535157 36.941407 28.078126 41.863282zm239.601562 279.878906h-189.203125c-17.097656 0-30.398437-14.6875-30.398437-33.5v-245.5h250v245.5c0 18.8125-13.300782 33.5-30.398438 33.5zm-158.601562-367.5c-.066407-5.207031 1.980468-10.21875 5.675781-13.894531 3.691406-3.675781 8.714843-5.695313 13.925781-5.605469h88.796875c5.210937-.089844 10.234375 1.929688 13.925781 5.605469 3.695313 3.671875 5.742188 8.6875 5.675782 13.894531v12.5h-128zm-71.199219 32.5h270.398437c9.941406 0 18 8.058594 18 18s-8.058594 18-18 18h-270.398437c-9.941407 0-18-8.058594-18-18s8.058593-18 18-18zm0 0"}),rt=r.a.createElement("path",{d:"m173.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"}),ct=function(e){var t=e.svgRef,a=e.title,n=et(e,["svgRef","title"]);return r.a.createElement("svg",$e({height:"427pt",viewBox:"-40 0 427 427.00131",width:"427pt",ref:t},n),a?r.a.createElement("title",null,a):null,tt,at,nt,rt)},st=r.a.forwardRef((function(e,t){return r.a.createElement(ct,$e({svgRef:t},e))})),ot=(a.p,function(e){var t=e.title,a=e.onClick,n=e.active;return r.a.createElement("div",{className:"".concat(Ve.a.tag," ").concat(n?Ve.a.tagActive:""),onClick:a},"# ",t)}),it=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),a.setTags())},a.setTags=function(){var e=a.state.tagsText.split(",").filter((function(e){return e.trim().length>0})).map((function(e){return e.replace("#","")}));if(e.length){var t=[].concat(Object(o.a)(a.state.tags),Object(o.a)(e)),n=Object(o.a)(new Set(t));a.setState({addingTags:!1,tagsText:"",tags:n})}},a.handleRemoveList=function(e){var t=a.state.tagsToRemove,n=Object(o.a)(t);n=t.includes(e.trim())?n.filter((function(t){return t.trim()!==e.trim()})):[].concat(Object(o.a)(n),[e]),a.setState({tagsToRemove:n})},a.onConfirm=function(){var e=a.state.tags;if(e.length){var t=Object(o.a)(new Set(e)).filter((function(e){return!a.props.preferences.includes(e)}));t.length?Promise.all(t.map(a.postTag)).then((function(e){a.props.updatePreferences(),a.props.onSetScreen()})).catch((function(e){console.log(e,"err")})):a.props.onSetScreen()}},a.removePreference=function(){var e=a.state,t=e.tagsToRemove,n=e.tags,r=a.props.preferences;a.setState({pending:!0});var c=[];t.forEach((function(e){r.includes(e)&&c.push(e)})),c.length&&_.delete("user/preferences",{data:{preferences:c}}).then((function(){a.props.updatePreferences()})).catch((function(){a.props.updatePreferences()}));var s=n.filter((function(e){return!t.includes(e)}));a.setState({tags:s,tagsToRemove:[],pending:!1})},a.state={pending:!1,addingTags:!1,tagsLoading:!e.preferences,tagsText:"",tags:e.preferences,tagsToRemove:[]},console.log(e.preferences,"props preferences"),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.updatePreferences(),this.props.preferences||setTimeout((function(){e.setState({tagsLoading:!1})}),3e4)}},{key:"postTag",value:function(e){return _.post("/user/preferences",{preference:e}).then((function(e){return{success:!0,data:e.data}})).catch((function(e){return{success:!1}}))}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,c=a.tags,s=a.tagsText,o=a.addingTags,i=a.pending,l=a.tagsLoading,m=a.tagsToRemove;return t?r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:Ve.a.header},r.a.createElement("div",{className:Ve.a["avatar-ctn"]},r.a.createElement("div",{className:Ve.a.avatar},r.a.createElement("div",{className:Ve.a["avatar-img-wrap"],style:{backgroundImage:"url(".concat(t.profile_photo||Ke.a,")")}}))),r.a.createElement("div",{className:Ve.a.user},r.a.createElement("h2",{className:"title"},"\u041f\u0440\u0438\u0432\u0435\u0442 ",t.username,"!"),r.a.createElement("p",{className:"text text--thin"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u0438\u0447\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u044b, \u0438 \u043c\u044b \u043f\u043e\u0434\u0431\u0435\u0440\u0435\u043c \u0432\u0430\u043c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438"))),r.a.createElement("div",{className:"".concat(Ve.a.main)},r.a.createElement("div",{className:"main-content content "},r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:Ve.a.logout},r.a.createElement("button",{className:"button-clear-defaults",onClick:function(){e.props.setToken(null),e.props.setUser(null)}},"\u0412\u044b\u0445\u043e\u0434")),!l&&r.a.createElement(n.Fragment,null,c.length?r.a.createElement("div",null,c.map((function(t,a){var n=m.includes(t);return r.a.createElement(ot,{title:t,onClick:function(){e.handleRemoveList(t)},active:n,key:"".concat(t,"-").concat(a)})})),r.a.createElement("button",{className:Ve.a.more,disabled:i,onClick:function(){e.setState({addingTags:!o})}},r.a.createElement("span",{className:Ve.a.plus},"+"))):r.a.createElement(n.Fragment,null,r.a.createElement("span",{className:"text"},"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432 \u0434\u0430\u043b\u044c\u0448\u0435 \u043d\u0435\u043b\u044c\u0437\u044f"),r.a.createElement("button",{className:Ve.a.more,disabled:i,onClick:function(){e.setState({addingTags:!o})}},r.a.createElement("span",{className:Ve.a.plus},"+"))),o&&r.a.createElement("div",{className:Ve.a.moreInput},r.a.createElement("input",{autoFocus:!0,onKeyDown:this.onKeyDown,disabled:i,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u043a\u043b\u0443\u0431",onChange:function(t){e.setState({tagsText:t.target.value})},className:"textarea ".concat(Ve.a.textarea),value:s}),r.a.createElement("button",{disabled:i||!s.trim().length,className:Ve.a.moreSave,onClick:this.setTags},r.a.createElement("img",{src:Je.a,alt:""})))))),r.a.createElement("footer",{className:Ve.a.footer},l?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:Ve.a.loadingWrap},r.a.createElement("div",{className:"".concat(Ve.a.loadingItem," loadingItem1")}),r.a.createElement("div",{className:"".concat(Ve.a.loadingItem," loadingItem2")}),r.a.createElement("div",{className:"".concat(Ve.a.loadingItem," loadingItem3")}))):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:Ve.a.moreTags},r.a.createElement("button",{disabled:!m.length||i,onClick:this.removePreference,className:Ve.a.remove},r.a.createElement(st,null))),r.a.createElement("div",{className:"".concat(Ve.a.confirm," ").concat(i||!c.length?Ve.a.confirm_opacity:"")},r.a.createElement("button",{className:Ve.a.confirmBtn,disabled:i||!c.length,onClick:this.onConfirm},r.a.createElement(Ze,null))))))):null}}]),t}(n.Component),lt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).updatePreferences=function(){_.get("user/preferences").then((function(e){var t=e.data;t.length&&a.props.setPreferences(t)}))},a.state={pending:!0,screen:"list"},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(S.a.mark((function e(){var t=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("user").then((function(e){var a=e.data;t.props.setUser(a)})).catch((function(){t.props.setUser(null),localStorage.removeItem("introViewed"),localStorage.removeItem("Access-Token"),localStorage.removeItem("navigation"),delete _.defaults.headers.common["Access-Token"]}));case 2:return e.next=4,_.get("user/preferences").then((function(e){var a=e.data;a.length&&t.props.setPreferences(a)}));case 4:this.setState({pending:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.pending,n=t.screen,c=this.props,s=c.preferences,o=c.user,i=c.setToken,l=c.setUser,m=c.loading;return a?r.a.createElement("div",{className:"recommendation-list-wrap"}):"profile"===n?r.a.createElement(it,{preferences:s,setToken:i,setUser:l,onSetScreen:function(){e.setState({screen:"list"})},updatePreferences:this.updatePreferences,setPreferences:this.props.setPreferences,user:o}):r.a.createElement("div",null,r.a.createElement(We,{pending:a,loading:m,onSetScreen:function(){e.setState({screen:"profile"})}}))}}]),t}(n.Component),mt=a(32),dt=a.n(mt),ut=a(196),pt=a.n(ut),gt=a(197),ft=a.n(gt),vt=a(198),ht=a.n(vt),_t=function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top"},r.a.createElement("div",{className:"container"})),r.a.createElement("div",{className:"modal fadeIn animated bd-example-modal-sm",tabIndex:"-1",role:"dialog","aria-labelledby":"mySmallModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-sm",style:{"max-width":"289px"}},r.a.createElement("div",{className:"modal-content",style:{"border-radius":"2.3rem",padding:"20px","margin-top":"45%"}},r.a.createElement("h3",{className:"modal-title"},"Get early access!"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group required"},r.a.createElement("label",{className:"control-label",htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",required:!0,id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group required"},r.a.createElement("label",{className:"control-label",htmlFor:"exampleInputPassword1",required:!0},"Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"exampleInputPassword1",placeholder:"name",required:!0})),r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Online events")),r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Offline events")),r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},r.a.createElement("b",null,"Premium selected events"))),r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"I agree to receive other communications from Instasphera. You can unsubscribe from these communications at any time. ")),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))),r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:dt.a.slideshow},r.a.createElement("li",null),r.a.createElement("li",null," ",r.a.createElement("span",null,"Summer")," "),r.a.createElement("li",null," ",r.a.createElement("span",null,"Fall")," "),r.a.createElement("li",null," ",r.a.createElement("span",null,"Winter")," "),r.a.createElement("li",null," ",r.a.createElement("span",null,"Spring")," "),r.a.createElement("li",null)),r.a.createElement("div",{className:dt.a.row},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:dt.a.mockup},r.a.createElement("div",{className:dt.a.device},r.a.createElement("div",{className:dt.a.screen},r.a.createElement("img",{src:ht.a,className:"img-fluid",alt:""})),r.a.createElement("button",{type:"button",className:"".concat(dt.a.button," btn"),"data-toggle":"modal","data-target":".bd-example-modal-sm"}))))),r.a.createElement("div",{className:dt.a.badges},r.a.createElement("a",{className:"badge-link",href:"#"},r.a.createElement("img",{width:"110",src:ft.a,alt:""})),r.a.createElement("a",{className:"badge-link",href:"#"},r.a.createElement("img",{width:"110",src:pt.a,alt:""})))))},Et=(a(440),r.a.createContext({token:null,setToken:function(){},user:null,setUser:function(){},preferences:[],setPreferences:function(){}})),bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setToken=function(e){e?(localStorage.setItem("Access-Token",e),_.defaults.headers.common["Access-Token"]=e):(localStorage.removeItem("introViewed"),localStorage.removeItem("Access-Token"),delete _.defaults.headers.common["Access-Token"]),a.setState({token:e,loading:!1})},a.setUser=function(e){a.setState({user:e})},a.setPreferences=function(e,t){var n=Object(o.a)(e);t&&(n=[].concat(Object(o.a)(a.state.preferences),Object(o.a)(e)));var r=Object(o.a)(new Set(n));a.setState({preferences:r})},a.state={user:null,loading:!0,preferences:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setToken(localStorage.getItem("Access-Token"))}},{key:"render",value:function(){var e=this.state,t=e.token,a=e.user,c=e.loading,s=e.preferences;return c?null:r.a.createElement(Et.Provider,{value:{token:t,user:a,preferences:s,setToken:this.setToken,setUser:this.setUser,setPreferences:this.setPreferences}},r.a.createElement(n.Fragment,null,window.innerWidth>767?r.a.createElement(_t,null):r.a.createElement(kt,{token:t,user:a,preferences:s,setToken:this.setToken,setPreferences:this.setPreferences,loading:c,setUser:this.setUser})))}}]),t}(n.Component),kt=function(e){var t=e.token,a=e.setToken,c=e.user,s=e.preferences,o=e.setPreferences,i=e.loading,l=e.setUser;return t?r.a.createElement(n.Fragment,null,r.a.createElement(lt,{user:c,preferences:s,setToken:a,setUser:l,setPreferences:o,loading:i})):r.a.createElement(n.Fragment,null,r.a.createElement(w,{setToken:a}))},yt=bt,wt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Nt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(r.a.createElement(yt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");wt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Nt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Nt(t,e)}))}}()},53:function(e,t,a){e.exports={body:"auth_body__3LHh0",logo:"auth_logo__1rEHP",footer:"auth_footer__1rqe7",text:"auth_text__2OQVr"}},77:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEgSURBVHgBlVJBUsJAEOzZRKs4GW8Il/ACc7E0N3yJ+AKKFxBfYHyBPEFeYC4WhR7QH+Si4cgJD1o7zG5CSHKgoA9bO7s9s9M9S6iAF56H39YALl3ag3/+AvELhct0y6GS/H4xBKtIdh6aUIjo6uehTOCPzhgaEfaCY7rORsSzdh9KveIQaH2rhDwsKqQ4XZ+D6alaVUg9aWRlQ4fGSoJ+IcfD+sQX0lm9qiOaOE9gCojnHcYRcMFIRbpfxJ9i46rGYDKuBdu2XWllKptch8aUwiyq8efdR1nzBKLEuORDOYvSf+YR3WSxHeJf605eiHd6dC+fw6w9ELeesQ+a7in8nij7UricGI+ttU0QJ+bOkG3YvOe3bgBX+9C2xaT6jww2HWVrGy9YWQsAAAAASUVORK5CYII="},78:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEWSURBVHgBjVHLTcNAFJyxg8TR3EA+kHQQS0gJJ+ggJRAqwB2gVEDSAamAFnLhJyGxJZgDJDd84kT28ex1nCxKrMxp9+3MvnnziH+Q5+M2AnZhJddrxvNFtvnOmvgYd3Fg7yC89H6gzLCU65WwFMhbfKXFezQhtEOeLaZ0FsJ3lUVoRg5rkwAMbtdkybYSHSKQqQp0wIrM3rwDi1FN1TN7X0fq3Lh5OGgpsRIwkqeTFKFc6OCVbwzUcrbmoE15jb/38F/bU0vWeCWRiQ7XwS8T7TTx3igm0DhHG2yjQc/K1FryAIGp/RdYytTt4SUeq/qm0Yx2Zn+uKRWd+p+pl84Ocsn16sUSEQw1nVNnAR84/BkzyVe7wB8D6W2bzhAwbAAAAABJRU5ErkJggg=="},79:function(e,t,a){e.exports=a.p+"static/media/happy-fave.624ff369.svg"},80:function(e,t,a){e.exports=a.p+"static/media/sad-face.b6224192.svg"}},[[200,1,2]]]);
//# sourceMappingURL=main.180ffe08.chunk.js.map